<div class="confirmation">
  <h2>Appointment Booked!</h2>
  <p>Doctor: {{ appointment.doctor_name }}</p>
  <p>Time: {{ appointment.date }} at {{ appointment.time }}</p>
  <p>Room ID: {{ room_id }}</p>

  <div id="consultation-access" style="display: none">
    <button id="start-consultation">Start Video Call</button>
  </div>
</div>

<script>
  const appointmentTime = new Date(
    "{{ appointment.date }}T{{ appointment.time }}:00"
  );
  console.log("Appointment at:", appointmentTime); // Debug

  const checkTime = setInterval(() => {
    if (new Date() >= appointmentTime) {
      document.getElementById("consultation-access").style.display = "block";
      clearInterval(checkTime);
    }
  }, 60000);
</script>
